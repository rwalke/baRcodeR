---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

# baRcodeR

<!-- badges: start -->
[![Status](https://www.r-pkg.org/badges/version/baRcodeR)](https://cran.r-project.org/web/packages/baRcodeR/index.html)
[![Downloads](https://cranlogs.r-pkg.org/badges/grand-total/baRcodeR)](https://cran.r-project.org/web/packages/baRcodeR/index.html)
[![Travis build status](https://travis-ci.org/yihanwu/baRcodeR.svg?branch=master)](https://travis-ci.org/yihanwu/baRcodeR)
[![Codecov test coverage](https://codecov.io/gh/yihanwu/baRcodeR/branch/master/graph/badge.svg)](https://codecov.io/gh/yihanwu/baRcodeR?branch=master)
[![Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
<!-- badges: end -->

baRcodeR generates labels for more repeatable workflows with biological samples

## Installation

You can install the released version of baRcodeR from [CRAN](https://CRAN.R-project.org) with:

```
install.packages("baRcodeR")
```

And the development version from [GitHub](https://github.com/) with:

```
# install.packages("devtools")
devtools::install_github("yihanwu/baRcodeR", build_vignettes = T)
```

## Quick Start

Text identifiers can be created in a sequential or hierarchical pattern.

```{r}
library(baRcodeR)

example_labels <- uniqID_maker(user = FALSE, string = "Example", level = 1:40)
head(example_labels)
```

Then the text identifiers can be printed out with a laser printer on sticker sheets.


```{r include = F, eval = F}
# generate the image shown in vignettes as png rather than pdf so it shows up in markdown
# pdf_file_name <- "man/figures/example_file"
# create_PDF(Labels = example_labels, name = pdf_file_name)
# pdf_file <- magick::image_read_pdf("man/figures/example_file.pdf")
# magick::image_write(pdf_file, path = "man/figures/example.png", format = "png")
```


```{r eval = F}
pdf_file_name <- tempfile()
create_PDF(Labels = example_labels, name = pdf_file_name)
```

```{r echo = F}
knitr::include_graphics("man/figures/example.png")
```





## Introduction

`baRcodeR` is a R package for generating unique identifier strings and printable 2D (QR) barcodes, with the aim of improving repeatability of labelling, tracking and curating data from biological samples. Specifically, users can:

* generate simple ID codes (Ex001, Ex002, Ex003 ...),
* generate hierarchical (i.e. nested) ID codes (A01-B01, A01-B02, A02-B01, A02-B02, A03-B01 ...),
* generate printable PDF files of paired ID codes and QR barcodes with default spacing for ULINE 1.75" * 0.5" WEATHER RESISTANT LABEL for laser printer; item # S-19297 (uline.ca)
* customize the PDF layout for any type of printable format (e.g, vinyl stickers, waterproof paper)
* generate reproducible code for archival purposes (e.g. in publications or online repositories)
* create CSV files to link unique IDs and sampling hierarchy with downstream data collection workflows. For example, the PyTrackDat pipeline can be used to set up a web-based data collection platform: https://github.com/pytrackdat/pytrackdat

Creating unique, scannable barcodes generally involves two steps:

  1. Generate unique ID codes with `uniqID_maker()` or `uniqID_hier_maker()`
  2. Create a PDF file containing unique ID codes coupled with 2D barcode using `create_PDF()`

If you already have ID codes saved in a CSV file, the csv can be read into a `data.frame()` in R. The `label` column, if it exists will be used as input to generate barcodes. Otherwise, the first column in the data frame will be used. 

> NOTE: When printing from pdf, ensure that 'anti-aliasing' or 'smoothing' options are turned OFF, and that you are not using 'fit to page' or similar options that will re-scale the output.

![Flowchart of major functions](man/figures/Flowchart.png)

### Cheat Sheet

A 2-page, quick-reference guide is available via [Figshare](https://dx.doi.org/10.6084/m9.figshare.7043309)

## Usage with RStudio addin

Please load the vignette "Use Addin".

```{r eval = F}
library(baRcodeR)
vignette("use-addin")
```


## Usage from the console

Please load the vignette "Using-baRcodeR" for console use.

```{r eval = F} 
vignette("Using-baRcodeR")
```
# Contribution

Please note that the 'baRcodeR' project is released with a
  [Contributor Code of Conduct](CODE_OF_CONDUCT.md).
  By contributing to this project, you agree to abide by its terms.
  
Please document issues with a description, a minimal reproducible example, and the `sessionInfo()`. 

```{r}
sessionInfo()
```

# See also:

- [zintr](https://github.com/carlganz/zintr), an R interface to the C zint library